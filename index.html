<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>보케샘의 고민상담소</title>
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
<style>
/* 전체 스타일 */
body {
  margin: 0;
  font-family: 'Gamja Flower', cursive; /* 귀여운 폰트 적용 */
  background-color: #fff9c4; /* 연한 노란색 배경 */
  background-image: radial-gradient(#ddd 1px, transparent 1px);
  background-size: 20px 20px; /* 모눈종이 패턴 */
  display: flex;
  justify-content: center;
  color: #333;
}
.wrap {
  max-width: 400px;
  width: 100%;
  padding: 30px;
  text-align: center;
  box-sizing: border-box;
}
h1 {
  font-size: 32px;
  margin-top: 50px;
  text-shadow: 2px 2px 0px #fff; /* 글자 뒤 흰색 그림자 */
}
p {
  font-size: 20px;
  margin: 10px 0 30px;
}
/* 입력창 꾸미기 */
textarea {
  width: 100%;
  height: 140px;
  border: 3px solid #000; /* 두꺼운 검은 테두리 */
  border-radius: 15px;
  padding: 15px;
  font-size: 20px;
  font-family: 'Gamja Flower', cursive;
  resize: none;
  box-shadow: 5px 5px 0px rgba(0,0,0,0.1); /* 그림자 */
  outline: none;
  box-sizing: border-box; /* 패딩 포함 크기 계산 */
}
textarea:focus {
  background-color: #fff;
  box-shadow: 5px 5px 0px #ff6b6b; /* 클릭하면 분홍 그림자 */
}
/* 버튼 꾸미기 */
button {
  margin-top: 25px;
  width: 100%;
  padding: 15px;
  font-size: 24px;
  font-family: 'Gamja Flower', cursive;
  border: 3px solid #000;
  border-radius: 50px;
  background: #ff6b6b; /* 쨍한 분홍색 */
  color: #fff;
  cursor: pointer;
  box-shadow: 4px 4px 0px #000; /* 만화 같은 그림자 */
  transition: 0.1s;
}
button:active {
  transform: translate(4px, 4px); /* 누르면 눌리는 효과 */
  box-shadow: 0px 0px 0px #000;
}
button:disabled {
  background: #ccc;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}
.small {
  margin-top: 20px;
  font-size: 16px;
  color: #777;
}
</style>
</head>
<body>
<div class="wrap">
  <h1 id="title"></h1>
  <p>고민있구나? 걱정마 샘이 해결함!</p>
  <textarea id="worryInput" placeholder="적어준 고민은 답변과 함께 저 우주로 날려보내니 걱정말라고!"></textarea>
  <button id="sendBtn" onclick="sendAndGo()">보케샘의 일타 고민해결!</button>
  <div class="small">평생 무료지만 하루 한 번만 가능(신중필요)</div>
</div>

  <script>
const USERS=[
"연우","민준이","가윤이","동균이","서현이","주은이","현우",
"동국이","소윤이","시온이","시우","지연이","지민이","상현이","수아",
"인성이","다해","승훈이","윤지","주아","준희","지효","태호",
"현준이","서현이","채원이","윤하","인형이","병욱이","시윤이","준혁이",
"가현이","현우","지윤이", "슈니"
];

const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbykDuVl_i-7yEwy3eSZaoc_2A4kShtI51tQxmMcwYofLjOv1ygzhHUR162egRNgu_Aq/exec";

// URL 파라미터 처리
const p = new URLSearchParams(location.search);
const u = parseInt(p.get("u"), 10) || 1;
const userName = USERS[u-1] || "방문자"; 

// 제목에 이름 표시
document.getElementById("title").textContent = `${userName}의 고민 접수!`;

function sendAndGo(){
  const worryText = document.getElementById("worryInput").value;
  const btn = document.getElementById("sendBtn");

  // 버튼 비활성화
  btn.disabled = true;
  btn.textContent = "고민 해결 중...";

  // 데이터 전송
  fetch(SCRIPT_URL, {
    method: "POST",
    mode: "no-cors", 
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      name: userName,
      worry: worryText
    }),
  })
  .then(() => {
    goNextPage();
  })
  .catch((error) => {
    console.error("Error:", error);
    goNextPage();
  });
}

function goNextPage(){
  const a = Math.floor(Math.random()*100);
  location.href = `answer.html?u=${u}&a=${a}`;
}
</script>












