<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>해결 완료</title>
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&display=swap" rel="stylesheet">
<style>
/* CSS 수정: 화면 꽉 차게 + 정중앙 정렬 + 스크롤 방지 */
body {
  margin: 0;
  padding: 0;
  font-family: 'Gamja Flower', cursive;
  background-color: #e0f7fa;
  background-image: radial-gradient(#81d4fa 2px, transparent 2px);
  background-size: 30px 30px;
  /* 화면 정중앙 배치 핵심 코드 */
  display: flex;
  align-items: center; 
  justify-content: center;
  min-height: 100vh; /* 화면 높이 100% 사용 */
  overflow: hidden; /* 스크롤바 강제 제거 */
}

.scene {
  perspective: 1200px;
  /* margin-top 삭제 -> flex로 중앙 정렬함 */
  width: 300px;
  height: 450px;
}

.card {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  cursor: pointer;
}

.card.flipped {
  transform: rotateY(180deg);
}

.face {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 20px;
  border: 4px solid #000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  box-shadow: 10px 10px 0px rgba(0,0,0,0.2);
  background: #fff;
  /* 텍스트 드래그 방지 */
  -webkit-user-select: none;
  user-select: none;
}

.front {
  background: #ffecb3;
  font-size: 28px;
  color: #333;
  z-index: 2; /* 앞면이 확실히 위에 오도록 */
}

.back {
  transform: rotateY(180deg);
  padding: 20px;
  text-align: center;
  background: #fff;
  box-sizing: border-box; /* 패딩 포함 크기 계산 */
  z-index: 1;
}

.result-img {
  max-width: 90%;
  max-height: 180px;
  object-fit: contain;
  margin-bottom: 20px;
  border: 2px solid #000;
  border-radius: 10px;
  display: none;
}

.icon {
  font-size: 60px;
  margin-bottom: 20px;
}

.answer {
  font-size: 32px;
  line-height: 1.3;
  color: #000;
  word-break: keep-all;
}

.meta {
  position: absolute;
  bottom: 20px;
  font-size: 16px;
  color: #888;
}
</style>
</head>
<body>
<div class="scene">
  <div class="card" id="card">
    <div class="face front">
      <div style="font-size:60px;">💌</div>
      <div style="margin-top:20px; text-align: center;">도착한 답장 확인하기<br>(터치)</div>
    </div>
    <div class="face back">
      <img id="resultImg" class="result-img" src="" alt="결과 이미지">
      <div class="icon" id="icon"></div>
      <div class="answer" id="answer"></div>
      <div class="meta">캡쳐해서 간직해! ✨</div>
    </div>
  </div>
</div>

<script>
// 답변 데이터
const ANSWERS = [
  {icon:"🛡",text:"그건 너의 잘못 아님. 보케샘의 보증함!"},
  {icon:"🙆‍♀️",text:"너는 충분히 잘하고 있음."},
  {icon:"✨",text:"결국 다 잘 될 거임."},
  {icon:"🧘",text:"걱정은 셀프 반납하시게."},
  {icon:"👍",text:"지금 그대로도 완벽함."},
  {icon:"💊",text:"시간이 약임. 진짜로."},
  {icon:"🗑",text:"나쁜 기억은 휴지통으로."},
  {icon:"💖",text:"너 자신부터 챙겨."},
  {icon:"🌈",text:"비 온 뒤에 땅 굳음."},
  {icon:"🧗",text:"버티는 게 이기는 거임."},
  {icon:"👏",text:"박수 칠 때 떠나지 말고 즐겨."},
  {icon:"👑",text:"주인공은 너임. 쫄지 마."},
  {icon:"🍀",text:"뜻밖의 행운이 올 거임."},
  {icon:"🔋",text:"방전됨. 충전 필요."},
  {icon:"🌤",text:"내일은 맑음 예정."},
  {icon:"🚀",text:"지금 당장 시작해."},
  {icon:"🏃",text:"일단 저지르고 봐."},
  {icon:"🔥",text:"불태워버려. 가능함."},
  {icon:"👀",text:"눈치 보지 말고 고."},
  {icon:"📢",text:"목소리를 더 높여."},
  {icon:"👊",text:"한 방 먹여줘."},
  {icon:"🚪",text:"문 열려 있음. 나가봐."},
  {icon:"🎢",text:"즐기면 그만임."},
  {icon:"👠",text:"자신감 갖고 걷기."},
  {icon:"🎯",text:"목표가 코앞임."},
  {icon:"🤝",text:"도움 요청해도 됨."},
  {icon:"💃",text:"춤추듯 가볍게."},
  {icon:"✈️",text:"멀리 떠나보는 건 어때?"},
  {icon:"🎹",text:"네 리듬대로 해."},
  {icon:"🏗",text:"기초부터 다시 쌓자."},
  {icon:"⏸",text:"지금은 안 해도 됨."},
  {icon:"🛑",text:"잠깐 멈추는 게 답임."},
  {icon:"🛌",text:"일단 자고 생각하자."},
  {icon:"🙅",text:"거절해도 괜찮아."},
  {icon:"📦",text:"그만 생각해도 됨."},
  {icon:"🙈",text:"못 본 척 넘어가."},
  {icon:"🏳️",text:"포기하는 것도 용기임."},
  {icon:"🐢",text:"천천히 가도 안 늦음."},
  {icon:"🔌",text:"로그아웃이 필요해."},
  {icon:"🤔",text:"한 번 더 고민해봐."},
  {icon:"🌫",text:"안개 걷힐 때까지 대기."},
  {icon:"🚧",text:"지금은 공사 중."},
  {icon:"🤫",text:"비밀로 하는 게 좋겠어."},
  {icon:"📉",text:"기대치를 좀 낮춰."},
  {icon:"🚽",text:"다 배출하고 잊어."},
  {icon:"💡",text:"생각보다 별거 아님."},
  {icon:"🔁",text:"방향 바꿔도 늦지 않음."},
  {icon:"🗝",text:"답은 이미 네가 암."},
  {icon:"⚖️",text:"균형 잡는 중임."},
  {icon:"🕶",text:"색안경 끼고 보지 마."},
  {icon:"💸",text:"돈으로 해결될 문제임."},
  {icon:"🗑",text:"쓰레기는 쓰레기통에."},
  {icon:"✂️",text:"끊을 건 끊어야 함."},
  {icon:"📝",text:"기록해두면 쓸모 있음."},
  {icon:"🎓",text:"이것도 다 배움임."},
  {icon:"🧹",text:"정리가 좀 필요함."},
  {icon:"🧩",text:"퍼즐이 곧 맞춰짐."},
  {icon:"📍",text:"지금 위치도 나쁘지 않음."},
  {icon:"🔄",text:"다시 시작하면 됨."},
  {icon:"🧱",text:"벽이 아니라 문일 수도."},
  {icon:"🔨",text:"깨부수고 나와."},
  {icon:"🍔",text:"맛있는 거 먹으면 해결됨."},
  {icon:"🍺",text:"맥주 한 캔 딱 따. 아... 아직 학생인가? 3년 뒤에 딱 따!"},
  {icon:"🍰",text:"당 떨어져서 그래."},
  {icon:"🍗",text:"치킨이 답이다."},
  {icon:"☕️",text:"커피 수혈 시급함."},
  {icon:"🌶",text:"매운 거 먹고 스트레스 풀어."},
  {icon:"🍖",text:"고기 앞으로 가라."},
  {icon:"🍦",text:"아이스크림 먹고 식혀."},
  {icon:"🥗",text:"오늘은 좀 가볍게 먹자."},
  {icon:"🍜",text:"라면 먹고 갈래?"},
  {icon:"👥",text:"사람 너무 믿지 마."},
  {icon:"🤬",text:"욕 한번 하고 털어."},
  {icon:"👂",text:"남의 말 듣지 마."},
  {icon:"👋",text:"손절 타이밍임."},
  {icon:"💌",text:"먼저 연락해 봐."},
  {icon:"🎁",text:"너한테 선물해."},
  {icon:"👯",text:"친구랑 수다 떨어."},
  {icon:"🐶",text:"강아지/고양이가 답임."},
  {icon:"🌵",text:"가시 세우지 마."},
  {icon:"🌻",text:"해바라기처럼 한 곳만 봐."},
  {icon:"🔮",text:"마법의 소라고둥도 모른대."},
  {icon:"🎰",text:"인생은 도박임. 걸어봐."},
  {icon:"👻",text:"아무 일도 없던 거야."},
  {icon:"👽",text:"외계인의 소행임."},
  {icon:"🎮",text:"다시하기 버튼 누를 때."},
  {icon:"🎬",text:"영화 같은 반전 있음."},
  {icon:"🎵",text:"노래방 가서 질러."},
  {icon:"🛌",text:"이불 밖은 위험해."},
  {icon:"🛀",text:"따뜻한 물에 지져."},
  {icon:"💊",text:"비타민이나 챙겨 먹어."},
  {icon:"🗓",text:"오늘만 날이 아님."},
  {icon:"💰",text:"돈이 최고야."},
  {icon:"📱",text:"폰 끄고 잠수 타."},
  {icon:"🎉",text:"축하할 일이 생길 거야."},
  {icon:"🎊",text:"대박 조짐이 보임."},
  {icon:"🧨",text:"펑 터지기 일보 직전."},
  {icon:"🏝",text:"휴가 계획이나 짜자."},
  {icon:"🚦",text:"초록불임. 건너가."},
  {icon:"🚲",text:"두 발 떼고 굴러봐."},
  {icon:"🧸",text:"애착인형 안고 있어."}
];

const p = new URLSearchParams(location.search);
const a = parseInt(p.get("a"), 10) || 0;
const card = document.getElementById("card");
const imgEl = document.getElementById("resultImg");
const iconEl = document.getElementById("icon");

const selectedAnswer = ANSWERS[a % ANSWERS.length] || ANSWERS[0];

// 이미지 처리 로직
if (selectedAnswer.img && selectedAnswer.img !== "") {
  imgEl.src = selectedAnswer.img;
  imgEl.style.display = "block";
  iconEl.style.display = "none";
} else {
  imgEl.style.display = "none";
  iconEl.textContent = selectedAnswer.icon;
  iconEl.style.display = "block";
}

document.getElementById("answer").textContent = selectedAnswer.text;

// ★★★ 수정: 테스트를 위해 쿠키 체크 로직 잠시 주석 처리 ★★★
// (나중에 실제 친구들 줄 때 아래 3줄 주석을 풀면 됩니다)

/* if (document.cookie.includes("used")) {
  card.classList.add("flipped");
}
*/

card.onclick = function() {
  // ★★★ 수정: 중복 클릭 방지 주석 처리 (테스트용 무한 클릭 가능) ★★★
  /*
  if (document.cookie.includes("used")) {
      return; 
  }
  */
  
  // 클릭할 때마다 뒤집기 (toggle 사용)
  card.classList.toggle("flipped");
  
  // document.cookie = "used=true;max-age=86400;path=/";
};
</script>
</body>
</html>



